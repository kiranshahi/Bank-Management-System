<!DOCTYPE html>
<html ng-app="myAppS">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - My ASP.NET Application</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
    @Scripts.Render("~/bundles/jquery")
    <script type = 'text/javascript' >
        var appInsights=window.appInsights||function(config)
        {
            function r(config){ t[config] = function(){ var i = arguments; t.queue.push(function(){ t[config].apply(t, i)})} }
            var t = { config:config},u=document,e=window,o='script',s=u.createElement(o),i,f;for(s.src=config.url||'//az416426.vo.msecnd.net/scripts/a/ai.0.js',u.getElementsByTagName(o)[0].parentNode.appendChild(s),t.cookie=u.cookie,t.queue=[],i=['Event','Exception','Metric','PageView','Trace','Ajax'];i.length;)r('track'+i.pop());return r('setAuthenticatedUserContext'),r('clearAuthenticatedUserContext'),config.disableExceptionTracking||(i='onerror',r('_'+i),f=e[i],e[i]=function(config, r, u, e, o) { var s = f && f(config, r, u, e, o); return s !== !0 && t['_' + i](config, r, u, e, o),s}),t
        }({
            instrumentationKey:'4e6264e6-6788-4c46-90d2-4fd87c3f5b12'
        });
        
        window.appInsights=appInsights;
        appInsights.trackPageView();


        

    </script>
</head>
<body> 
            @*<div ng-controller="userControllers">
                {{myVal}}
                <input type="button" value="Get" ng-click="get()" width="45%" />
            </div>*@
            <div class="navbar navbar-inverse navbar-fixed-top">
                <div class="container">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        @Html.ActionLink("BMS", "Index", "Home", new { area = "Common" }, new { @class = "navbar-brand" })

                    </div>
                    <div class="navbar-collapse collapse">
                        <ul class="nav navbar-nav">

                            <li>@Html.ActionLink("Home", "Index", new { Controller = "Home", Area = "Common" })</li>

                            <li>@Html.ActionLink("Register", "Register", new { Controller = "Login", Area = "Security" })</li>

                            @{
                                if (User.Identity.IsAuthenticated)
                                {
                                    if (User.IsInRole("Admin"))
                                    {
                                        <li>@Html.ActionLink("Users", "Index", new { Controller = "User", Area = "Admin" })</li>

                                        <li class="dropdown">
                                            <a class="dropdown-toggle" href="#" data-toggle="dropdown">
                                                Loan
                                                <b class="caret"></b>
                                            </a>
                                            <ul class="dropdown-menu">

                                                <li>@Html.ActionLink("Create Loan Type", "CreateLoanType", new { Controller = "Loan", Area = "Admin" })</li>

                                                <li>
                                                    @Html.ActionLink("Issue Loan", "IssueLoan", new { Controller = "Loan", Area = "Admin" })
                                                </li>
                                                <li>
                                                    @Html.ActionLink("Loan Details", "LoanDetails", new { Controller = "Loan", Area = "Admin" })
                                                </li>
                                                <li class="divider"></li>
                                                <li>
                                                    <a href="#">More »</a>
                                                </li>
                                            </ul>
                                        </li>




                                         <li>@Html.ActionLink("Cheque Cancellation", "Index", new { Controller = "ChequeCancellation", Area = "Admin" })</li>

                                    }
                                    if (User.IsInRole("Admin") || User.IsInRole("Employee"))
                                    {

                                        <li class="dropdown">
                                            <a class="dropdown-toggle" href="#" data-toggle="dropdown">
                                                Accounts
                                                <b class="caret"></b>
                                            </a>
                                            <ul class="dropdown-menu">

                                                <li>@Html.ActionLink("Open New Account", "Index", new { Controller = "BankAccount", Area = "Employee" })</li>

                                                <li>
                                                    @Html.ActionLink("Deposit", "Deposit", new { Controller = "BankAccount", Area = "Employee" })
                                                </li>
                                                <li>
                                                    @Html.ActionLink("Withdrawal", "Withdrawal", new { Controller = "BankAccount", Area = "Employee" })
                                                </li>
                                                <li class="divider"></li>
                                                <li>
                                                    <a href="#">More »</a>
                                                </li>
                                            </ul>
                                        </li>

                                        <li>@Html.ActionLink("Issue Cheques", "Index", new { Controller = "ChequeIssue", Area = "Employee" })</li>

                                            <li ng-controller="myCntrl-2" ng-init="ReadVal();">@Html.ActionLink("Welcome: {{ValueRead}}", null)</li>

                                            <li>@Html.ActionLink("Logout", "SignOut", new { Controller = "Login", Area = "Security" })</li>

                                            }
                                            }

                                            else
                                            {
                                            <li>@Html.ActionLink("Login", "Login", new { Controller = "Login", Area = "Security" })</li>
                                            }

                                            }
</ul>



                        @*@Html.Partial("_LoginPartial")*@
                    </div>
                </div>
            </div>
            <div>

          



            <div class="container body-content">
                @RenderBody()
                <div ng-view></div>
                <hr />
                <footer>
                    <blockquote class="pull-right">

                        <p>
                            No engineer should leave their country for hunting the job. 

                     
                        </p>
                        <small><a href="http://www.manzoorthetrainer.com" target="_blank"> ManzoorTheTrainer</a><cite title="Source Title"> [MCT]</cite></small>
                    </blockquote>
                    <p>&copy; @DateTime.Now.Year - My ASP.NET Application</p>
                </footer>
            </div>

            @Scripts.Render("~/bundles/angular")
            @Scripts.Render("~/bundles/bootstrap")
            @RenderSection("scripts", required: false)
        </div>

   
</body>
</html>